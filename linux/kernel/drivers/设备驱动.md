# 设备驱动

- [<font color=Red>设备驱动</font>](https://blog.csdn.net/tiantianhaoxinqing__?type=blog)
- [一篇文章汇总嵌入式处理器相关的知识](https://mp.weixin.qq.com/s/Aai7Ccwwp7SROEXpPnEfzA)
- [【干货】一文搞懂芯粒（Chiplet）技术](https://mp.weixin.qq.com/s/LVHWCiRL9ZpB26hD4tgKkA)
- [【干货】一文掌握ARM基础及架构演变](https://mp.weixin.qq.com/s/WR8_RuN03OfaYmRfqoT75w)
- [Linux内核入门篇之驱动的前世今生](https://mp.weixin.qq.com/s/R_E6dEQTZhgps8NpAR6xhQ)

## 元器件

- [<font color=Red>常用电子产品接口大全（很全，值得收藏）</font>](https://mp.weixin.qq.com/s/QGPxHCYxgLi656D8wq2Dzw)
- [搞懂元器件，就搞懂了电路的一半](https://mp.weixin.qq.com/s/Z15ML8HlzWhbpA2Gy8UqHA)

## disk

- [【干货】一文看懂机械硬盘和固态硬盘](https://mp.weixin.qq.com/s/JZ-TLajS1FdyGT-ktOGYlw)

## CPU

- [【干货】一文吃透CPU超线程技术](https://mp.weixin.qq.com/s/BLCaELMbmeA18Yq3AIk6jg)
- [【干货】一文搞懂CPU的工作原理](https://mp.weixin.qq.com/s/e2pvevissBvWzqtmMvmL0w)
- [【干货】一文看懂物理CPU和逻辑CPU](https://mp.weixin.qq.com/s/MPNP4THuLtHxOGzGeEdbiQ)
- [【干货】CPU是怎么计算“1+2”的（上）](https://mp.weixin.qq.com/s/gZIl3eBY72HBg35Ew4PBIQ)
- [【干货】一文搞懂CPU流水线的工作原理](https://mp.weixin.qq.com/s/zuR2OxE787f9duLqPsbLTQ)

### NUMA

- [NUMA架构：CPU和内存性能瓶颈的终结者！](https://mp.weixin.qq.com/s/awMSx3XMM6HbUlidC-UUCQ)

### 设备I/O

- [操作系统之I/O设备管理，你所不知道的I/O](https://mp.weixin.qq.com/s/EnlB0htIKDnw3WLMYfFCIA)
- [【Linux内核源码分析】regmap机制](https://mp.weixin.qq.com/s/hUy65DgnMqW7IQU1yqtsBA)

## iommu

- [什么是IOMMU？](https://www.zhihu.com/question/325947168?utm_id=0)
- [ARM SMMU学习笔记](https://www.toutiao.com/article/6815874213623104003)

#### io端口与io内存

- [<font color=Red>Linux系统是如何管理IO端口和IO内存的？看这里</font>](https://mp.weixin.qq.com/s/5Sw9drDOGf0Bs_N34ZFc0w)
- [详解io端口与io内存](https://mp.weixin.qq.com/s/DCQpGacYSQZlD_Nm15aRtA)
- [IO端口与IO内存](https://mp.weixin.qq.com/s/sSEPnLMfZx7-jLjJhauYiw)

ARM I/O内存（Memory-Mapped I/O）：

- 定义： ARM I/O内存是将外设寄存器映射到CPU的地址空间中的特殊内存区域。通过读写这些内存区域的值，可以实现对外设的控制和通信。
- 用途： 用于与外设进行直接的内存读写交互，例如访问显示控制器、网络接口等。

I/O端口：

- 定义： 在一些架构中，I/O端口是一种通过专用指令（in和out指令）而非内存地址进行访问的I/O设备寄存器。与内存映射I/O不同，I/O端口提供了一种专门的寄存器访问机制。
- 用途： 用于与特定I/O设备进行通信，这些设备被分配到I/O地址空间的端口。

IOMMU（I/O Memory Management Unit）：

- 定义： IOMMU 是一种硬件设备，用于管理主内存和外设之间的内存映射，以提供更灵活的I/O设备访问。它可以防止I/O设备越界访问主内存，并提供内存隔离。
- 用途： 用于支持虚拟地址空间的设备，提供更好的内存管理和安全性，特别是在虚拟化环境中。

在 ARM 架构中，ARM I/O内存通常是指使用内存映射I/O的方式，而I/O端口的概念在ARM中较为不常见。至于IOMMU，它在ARM平台上也有应用，用于提供更高级别的内存管理和隔离，以满足复杂的I/O设备需求。

#### dma

- [【干货】一文搞懂DMA（直接内存访问）技术](https://mp.weixin.qq.com/s/UYTmqJy1ODRNiPzfEa-SOg)
- [存储与IO系统（三）](https://mp.weixin.qq.com/s/8_8K1IO4TA54aeJ7FMKKfA)
- [DMA问题定位小结](https://mp.weixin.qq.com/s/IjyIm4l24ouJ3kcu81rZpg)
- [搞嵌入式，不懂DMA？笑死人。。。](https://www.toutiao.com/article/7314253739483955739/)

#### Cache

- [【干货】CPU如何与内存交互（上）：高速缓存](https://mp.weixin.qq.com/s/IhVFDN77nePJwQM9opsMQg)
- [【干货】CPU如何与内存交互（下）：虚拟内存](https://mp.weixin.qq.com/s/t9sFzCLmnlnHHALzyiRk4Q)
- [<font color=Red>【干货】一文吃透CPU的缓存一致性</font>](https://mp.weixin.qq.com/s/Gm6CyXW0XU2VN2neXoJ9og)
- [【干货】一文吃透CPU的三级缓存](https://mp.weixin.qq.com/s/9p4F2I-kCVEwr63XAFz9Iw)
- [<font color=Red>深入理解CPU cache：组织、一致性（同步）、编程</font>](https://mp.weixin.qq.com/s/zVReUAUJihBLorNo3o0luQ)

## FPGA

- [FPGA：“万能芯片”的技术原理与应用优势](https://mp.weixin.qq.com/s/ELlEjORUWe0UQk8IXNEBGg)

## JTAG

- [【DFX】万字长文带你搞懂JTAG的门门道道](https://mp.weixin.qq.com/s/6qYFssdV9DUb-l7Py2X_5w)
- [调试系统及ARM CPU挂死和总线挂死的DS-5(JTAG)调试方法](https://blog.csdn.net/tugouxp/article/details/119486580)

## 总线

- [终于搞清了：SPI、UART、I2C通信的区别与应用！](https://www.toutiao.com/article/7264843567909126715/)
- [终于搞清了：SPI、UART、I2C通信的区别与应用！](https://mp.weixin.qq.com/s/N36JOLDHGHDU8EHro4uS9w)
- [英伟达三大AI法宝：CUDA、Nvlink、InfiniBand](https://mp.weixin.qq.com/s/rVWoSl-QbwdwoSB0cNTXbQ)

### pci

- [<font color=Red>Find your device & driver from a massive database of PCI and USB devices.</font>](https://devicehunt.com/)
- [【原创】Linux PCI驱动框架分析（一）](https://www.cnblogs.com/LoyenWang/p/14165852.html)
- [Linux内核PCIE](https://mp.weixin.qq.com/s/LHYOeuHeAdpa-vxmbyVvSQ)
- [<font color=Red>PCIE总线初始化</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/125464240)
- [PCI总线驱动代码梳理（一）--整体框架](https://blog.csdn.net/qq_39376747/article/details/112723350)
- [PCI总线驱动代码梳理（三）--PCI设备的枚举](https://blog.csdn.net/qq_39376747/article/details/112723705)
- [PCIE设备的x1，x4，x8，x16有什么区别？](https://blog.csdn.net/sinat_42759524/article/details/103885497)
- [深入PCI与PCIe之一：硬件篇](https://zhuanlan.zhihu.com/p/26172972)
- [pcieport 报错分析 -- 网络间隔断掉](https://winddoing.github.io/post/7a90000d.html)

    ```text
    pcieport 0000:00:01.1: AER: Multiple Corrected error received: 0000:00:00.0
    ```

    ```bash
    lspci -t
    ```

    ```bash
    lspci -tv
    ```

    ```bash
    lspci -v
    ```

    ```bash
    lspci -vv
    ```

    ```bash
    lspci -vvv
    ```

    ```bash
    lspci -n
    ```

    ```bash
    lspci -nn
    ```

    ```bash
    lspci -nnn
    ```

#### PCI配置寄存器

- [Linux驱动之PCI子系统剖析](https://cloud.tencent.com/developer/article/2164590)

所有的PCI设备都有至少256字节的地址空间，其中前64字节是标准化的，被称为PCI配置寄存器，剩下的字节是设备相关的 (取决于具体的厂商，需要查看datasheet得知)。

PCI配置寄存器如下图所示。

![PCI配置寄存器](https://cdn.jsdelivr.net/gh/realwujing/picture-bed/9178ba2599d6c4bb6c1f0f9a232cf3f3.png)

- Vendor ID: 标识硬件厂商，需要向特定组织进行注册。
- Device ID: 由硬件厂商来分配的设备ID，无需对ID进行注册。
- Subsystem ID、Subsystem Vendor ID: 用来进一步标识设备。

### usb

- [USBView](http://www.kroah.com/linux-usb/)
- [https://github.com/gregkh/usbview/](https://github.com/gregkh/usbview/)
- [<font color=Red>USB基础知识1</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124515504)
- [<font color=Red>USB基础知识2</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124694130)
- [<font color=Red>USB基础知识3</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124756002)

#### USB子系统

- [<font color=Red>USB子系统初始化</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124899503)
- [<font color=Red>XHCI注册过程和设备接入识别</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124888836)

### I2C

- [I2C总线驱动框架详解](https://www.cnblogs.com/ancongliang/p/7842648.html)
- [I2C问题的七宗罪](https://www.toutiao.com/article/7270153829277205026/)
- [linux I2C驱动详解](https://www.toutiao.com/article/7312733194422846006/)

### SPI

- [Linux下SPI驱动详解（干货）](https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&mid=2247492491&idx=1&sn=df405ac3e578820bd6daef2da82b14b1&chksm=f96b917fce1c18695a0972e0027a553ff2394765de3d3bd543361f09bcb146901f5c1aacf937&scene=21#wechat_redirect)
- [SPI协议](https://blog.csdn.net/lzy13785490347/article/details/91373912)

### gpio

- [https://www.kernel.org/doc/html/latest/firmware-guide/acpi/gpio-properties.html](https://www.kernel.org/doc/html/latest/firmware-guide/acpi/gpio-properties.html)
- [硬件工程师必看：GPIO用法大汇总](https://zhuanlan.zhihu.com/p/80096604)
- [详细介绍GPIO、I2C、SPI通讯原理以及物理层原理](https://blog.csdn.net/bjbz_cxy/article/details/119925257)

## acpi

- [为什么ARM Server要用ACPI？ACPI vs DeviceTree](https://zhuanlan.zhihu.com/p/488898867)

- [acpi summary](https://maggie262.github.io/2020/02/06/acpi-summary/)
- [ACPI：高级配置与电源接口](extension://idghocbbahafpfhjnfhpbfbmpegphmmp/assets/pdf/web/viewer.html?file=http%3A%2F%2Fwww.tup.tsinghua.edu.cn%2Fupload%2Fbooks%2Fyz%2F064076-01.pdf)

- [【UEFI实战】Linux下如何解析ACPI表](https://blog.csdn.net/jiangwei0512/article/details/83317890)
- [ACPI Device Tree - Representation of ACPI Namespace](https://www.kernel.org/doc/html/latest/firmware-guide/acpi/namespace.html)

- dsst表导出：

    ```bash
    sudo apt install acpica-tools iasl
    sudo acpidump -n DSDT -b
    iasl -d dsdt.dat
    vim dsdt.dsl
    ```

### acpi debug

- [ACPI AML debug and override ACPI tables using initrd](https://blog.csdn.net/dachai/article/details/91398387)
- [<font color=Red>Upgrading ACPI tables via initrd</font>](https://www.kernel.org/doc/html/latest/admin-guide/acpi/initrd_table_override.html)

  - 通过initrd，可以直接修改acpi tables，方便调试，本次以修改dsdt表做demo展示:

      内核编译选项`ACPI_TABLE_UPGRADE`默认是开启的，故无需重新编译内核。

      安装`acpica-tools`、`iasl`导出dtst表：

      ```bash
      sudo apt install acpica-tools iasl
      mkdir acpidump
      cd acpidump
      sudo acpidump -b
      iasl -d *.dat # 生成dsdt.dsl
      ```

      本次修改电池_HID值，将`FTEC0002`替换为`FTEC0005`：

      修改前：

      ```c
      // vim dsdt.dsl +307
        307             Device (BAT1)
        308             {
        309                 Name (_HID, "FTEC0002")  // _HID: Hardware ID
        310                 Name (_UID, Zero)  // _UID: Unique ID
        311                 Name (_CRS, Buffer (0x02)  // _CRS: Current Resource Settings
        312                 {
        313                      0x79, 0x00                                       // y.
        314                 })
        315             }
      ```

      修改后：

      ```c
      // vim dsdt.dsl +307
        307             Device (BAT1)
        308             {
        309                 Name (_HID, "FTEC0005")  // _HID: Hardware ID
        310                 Name (_UID, Zero)  // _UID: Unique ID
        311                 Name (_CRS, Buffer (0x02)  // _CRS: Current Resource Settings
        312                 {
        313                      0x79, 0x00                                       // y.
        314                 })
        315             }
      ```

      增加dsdt.dsl中的OEM version从而达到覆盖原有的dsdt表:

      修改前:

      ```c
      // vim dsdt.dsl +21
      21 DefinitionBlock ("", "DSDT", 2, "ARMLTD", "PHYTIUM ", 0x20180509)
      ```

      修改后:

      ```c
      // vim dsdt.dsl +21
      21 DefinitionBlock ("", "DSDT", 2, "ARMLTD", "PHYTIUM ", 0x20180510)
      ```

      编译修改后的dsdt.dsl，生成新的dsdt.aml:

      ```bash
      iasl -sa dsdt.dsl
      ```

      制作调试用的initrd，将新生成的dsdt.aml拷贝到initrd顶部：

      ```bash
      mkdir -p kernel/firmware/acpi
      cp dsdt.aml kernel/firmware/acpi
      find kernel | cpio -H newc --create > /boot/initrd_dsdt
      cat /boot/initrd.img-4.19.0-arm64-desktop >> /boot/initrd_dsdt
      ```

      在grub中增加以下acpi.debug参数，从而启用与ACPI硬件相关的所有日志：

      ```bash
      acpi.debug_layer=0x2 acpi.debug_level=0xffffffff
      ```

      更新grub配置并重启系统：

      ```bash
      update-grub
      reboot
      ```

      在grub引导界面修改initrd：

      将`initrd  /initrd.img-4.19.0-arm64-desktop`这一行修改为`initrd  /boot/initrd_dsdt`即可。

      按下`Ctrl +x` 或者`F10`引导系统启动，进入系统后可以再次导出dsdt表，可以看到`FTEC0002`已经替换成了`FTEC0005`。

- [解决ACPI问题的小窍门](https://www.cnblogs.com/kuwoyidai/archive/2010/08/18/1870471.html)
- [Linux acpi off关于Suspend to Disk 问题分析](https://blog.csdn.net/wh8_2011/article/details/51523585)
  - 基于linux源码调试DSDT表

      ```bash
      iasl -tc DSDT.dsl # 产生一个 DSDT. hex 文件
      cp DSDT.hex $SRC/include/ # 将这个文件复制到 Linux 源代码的 include 文件夹下
      ```

      ```text
      向 .config 文添加以下描述
      CONFIG_STANDALONE = n # 将原 .config 的 y 改写为 n
      CONFIG_ACPI_CUSTOM_DSDT = y
      CONFIG_ACPI_CUSTOM_DSDT_FILE = ″DSDT.hex″
      ```

### acpi表定位

- [Linux启动时如何定位BIOS提供的ACPI表](https://zhuanlan.zhihu.com/p/49500489)

### ACPI电源管理

- [16. Waking and Sleeping » 16.1. Sleeping States](https://uefi.org/htmlspecs/ACPI_Spec_6_4_html/16_Waking_and_Sleeping/sleeping-states.html?highlight=power%20button)
- [ACPI简介之全局状态：G0/G1/G2/G3/S0/S1/S2/S3/S4/S5](https://zhuanlan.zhihu.com/p/541710326)
- [<font color=Red>BIOS ACPI基础(总览）</font>](https://blog.csdn.net/weixin_45279063/article/details/115867110)
- [「科普」电脑，待机/睡眠/休眠有啥区别？（ACPI SPM S0-S5）](https://www.toutiao.com/article/6833104599457464839)
- [【UEFI基础】ACPI基础](https://blog.csdn.net/jiangwei0512/article/details/51614383)
- [ACPI](https://blog.csdn.net/gaojy19881225/article/details/80027213)
- [<font color=Red>ACPI规范概览</font>](https://www.cnblogs.com/lvzh/p/16203890.html)
- [<font color=Red>调试Linux系统挂起和休眠问题的最佳实践</font>](https://www.codenong.com/cs106476323/)

   ```bash
   initcall_debug no_console_suspend ignore_loglevel initcall_blacklist=phytium_spi_driver_init module_blacklist=spi_phytium_plat dyndbg='module phytium_dc_drm +p; module snd_soc_phytium_i2s +p; module snd_soc_pmdk_es8388 +p; module snd_soc_pmdk_es8336 +p; module snd_soc_pmdk_dp +p'
   ```

#### pm-graph

- [<font color=Red>UOS系统在龙芯平台使用pm-graph</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/122603089)

#### 电源按钮

- [ACPI_Hardware_Specification](https://uefi.org/htmlspecs/ACPI_Spec_6_4_html/04_ACPI_Hardware_Specification/ACPI_Hardware_Specification.html)
- [ACPI_Hardware_Specification.html#control-method-power-button](https://uefi.org/htmlspecs/ACPI_Spec_6_4_html/04_ACPI_Hardware_Specification/ACPI_Hardware_Specification.html#control-method-power-button)

- [电源按钮](https://blog.csdn.net/qq_37342551/article/details/79490662)
- [ACPI相关（9）- Generic Button Device](https://blog.csdn.net/qq_21186033/article/details/116977816)

### acpi事件

- [ACPI事件模型](https://zhuanlan.zhihu.com/p/412580819)

#### acpid

- [linux中acpid管理,acpid 服务介绍](https://blog.csdn.net/weixin_32075603/article/details/116883913)

#### logind

- [笔记本安装Linux按下关机按钮、合上盖子等操作阻止电脑休眠](https://cloud.tencent.com/developer/article/2020314)

## 设备树

- [手把手教linux驱动11-linux设备驱动统一模型](https://mp.weixin.qq.com/s/pmJ45JsY_-R8PK2ip7uCng)
- [重新理解一波设备驱动 | Linux 驱动](https://mp.weixin.qq.com/s/v_HWfKtqAdNkhvymZ_UrMA)
- [整理了一份Linux设备树基础知识，建议收藏！](https://mp.weixin.qq.com/s/BI23d71SJkYPHnzQbFyvpQ)
- [万字长文教你设备树语法 | 设备树实例解析](https://mp.weixin.qq.com/s/6xjgqwDSuNc7TELeI_2GWA)
- [linux设备模型之kset/kobj/ktype分析](https://mp.weixin.qq.com/s/WET4m1Nd2vpvojKjgmRkbw)
- [Linux设备树的传递以及kernel中对设备树的解析](https://mp.weixin.qq.com/s/Cy90ADUkWobu8YQH3dx4Nw)
- [Linux设备模型之class](https://mp.weixin.qq.com/s/6SrEu4RBxb1Av5qu_eNo5Q)
- [Linux 设备树的加载与匹配](https://blog.csdn.net/qq_40537232/article/details/115507062)
- [Linux驱动——设备树](https://blog.csdn.net/cha1290878789/article/details/121559526)
- [<font color=Red>Linux设备驱动和设备匹配过程</font>](https://blog.csdn.net/tiantianhaoxinqing__/article/details/124843344?spm=1001.2014.3001.5502)

## udev

- [<font color=Red>udev高效、动态地管理 Linux 设备文件</font>](https://cloud.tencent.com/developer/article/2128481)
- [udev学习笔记汇总](https://www.cnblogs.com/hellokitty2/p/9521340.html)

通过`udev monitor`捕获uevent包含的信息：

```bash
udevadm monitor --kernel --property --udev
```

也可采用简写命令：

```bash
udevadm monitor -kpu
```

也可直接采用`udev mointor -p`命令查看信息，推荐使用上方两个命令:

```bash
udevadm mointor -p
```

借助udev中的`udevadm info`工具查找规则文件能利用的内核信息和sysfs属性信息：

```bash
udevadm info -a -p /sys/devices/virtual/misc/globalfifo
```

如果/dev/下面的节点已被创建，但是不知道它对应的/sys具体路径，可以使用`udevadm info -a -p $(udevadm info -q path -n /dev/<节点名>)`命令反向分析：

```bash
udevadm info -a -p $(udevadm info -q path -n /dev/globalfifo)
```

## input

- [Linux 驱动实例 (输入子系统 按键中断)](https://blog.csdn.net/a1105778208/article/details/132092743)

### evtest

- [Linux下查看输入设备、获取输入事件的详细方法](https://blog.csdn.net/phmatthaus/article/details/127748541)
- [linux下的keycode与keysym](https://zhuanlan.zhihu.com/p/423502840)

## 中断

- [AArch64 TrustZone](https://mp.weixin.qq.com/s/s66fFzCLHdcWA0Vksxgg6A)
- [Arm通用中断控制器GICv3和GICv4](https://mp.weixin.qq.com/s/AZFypzMVxD4H9pcpEbV7eg)
- [<font color=Red>一文讲透计算机的“中断”</font>](https://zhuanlan.zhihu.com/p/360548214)
- [<font color=Red>嵌入式基础知识-中断处理过程</font>](https://mp.weixin.qq.com/s/izTe-FATT76g9HNk6c5r2Q)
- [<font color=Red>从软硬件交互的角度去看中断的一生</font>](https://mp.weixin.qq.com/s/dEH0qZfSyqmcdiiREq7gdQ)
- [PCIe中断机制(4): MSI和MSI-X](https://zhuanlan.zhihu.com/p/407100254)

    ```text
    MSI（Message Signaled Interrupts）和MSI-X（Message Signaled Interrupts eXtended）是用于替代传统的PCI中断线机制的中断分配和传递机制。它们具有一些优势，如减少中断冲突、提高系统性能和可扩展性。

    以下是MSI和MSI-X中断机制的主要特点：

    MSI（Message Signaled Interrupts）：

    MSI允许设备发送消息来请求中断，而不是使用共享的中断线。
    每个设备都有自己的MSI寄存器，可以用来发送中断消息给CPU。
    中断消息通常包括中断向量和标识特定设备的信息。
    MSI机制减少了中断冲突，因为每个设备都有自己的中断向量，不再需要共享中断线。
    MSI支持的中断数量通常受硬件的限制。
    MSI-X（Message Signaled Interrupts eXtended）：

    MSI-X是MSI的扩展，它提供更多的中断向量，更灵活的配置和更好的性能。
    MSI-X支持的中断向量数目通常比MSI多，这意味着更多的设备可以同时拥有自己的中断。
    MSI-X还提供了更灵活的配置选项，允许设备在多个中断向量之间进行映射，从而更好地支持虚拟化和多处理器系统。
    使用场景：

    MSI和MSI-X通常用于高性能计算和服务器领域，以减少中断冲突并提高系统性能。
    它们也对虚拟化技术非常有帮助，因为它们可以更好地支持虚拟机之间的中断隔离和映射。
    总之，MSI和MSI-X是一种现代化的中断机制，它们提供了更好的性能、可扩展性和虚拟化支持，特别适用于高性能计算和服务器环境。它们有助于减少中断冲突，提高系统效率。
    ```

## open release

- [Linux字符设备驱动程序是否可以共享同一个主设备号？](https://blog.csdn.net/tugouxp/article/details/118807613)
- [Linux设备驱动程序 之 open和release](https://www.cnblogs.com/wanpengcoder/p/11759693.html)
- [字符设备之open()与release()函数](https://blog.csdn.net/tang_jin_chan/article/details/16993417)

- [详解应用层open函数如何调用到底层驱动中xxx_open函数](https://blog.csdn.net/u012142460/article/details/78932165)
- [Linux驱动：应用程序open如何调用到驱动程序的open函数](https://blog.csdn.net/qq_41882586/article/details/127012495)
- [linux设备驱动模型一字符设备open系统调用流程](https://blog.csdn.net/m0_46535940/article/details/124585580)
- [2. 关于文件（第三部分）](https://blog.csdn.net/junguo/article/details/125156101)

## RK3588S

```bash
sudo apt install -y repo git python
mkdir rk3588_sdk
cd rk3588_sdk
repo init --no-clone-bundle --repo-url https://gitlab.com/firefly-linux/git-repo.git -u https://gitlab.com/firefly-linux/manifests.git -b master -m rk3588_linux_release.xml
.repo/repo/repo sync -c --no-tags
.repo/repo/repo start firefly --all
```

```bash
git checkout -b rk3588_v1.0.6e 29f0634
git checkout rk3588_v1.0.6e
```

```bash
readlink -f .repo/manifest.xml 
/home/wujing/code/rk3588_sdk/.repo/manifests/rk3588/rk3588_linux_release_20230301_v1.0.6e.xml
```

注释掉kernel/arch/arm64/configs/firefly-linux.config 194行CONFIG_SPI_WK2XXX=y

- [ROC-RK3588S-PC资料下载](https://www.t-firefly.com/doc/download/164.html)
- [Welcome to ROC-RK3588S-PC Manual](https://wiki.t-firefly.com/zh_CN/ROC-RK3588S-PC/index.html)

## 其他

- [Camera | 2.MIPI、CSI基础](https://mp.weixin.qq.com/s/5qYO5RjCDUcxo4tR3_f_ow)
