
# network

- [<font color=Red>你管这破玩意叫网络</font>](https://mp.weixin.qq.com/s/MXHouvWLBsm7hqHUUjJaEw)
- [22张图详解浏览器请求数据包如何到达web服务器（搞懂网络可以出师了）](https://mp.weixin.qq.com/s/ylwRYbc2onEOVOxPsNfdwQ)
- [网卡与Linux网络结构（上）](https://mp.weixin.qq.com/s/2BXrbTJcaKV2OMgHfcuYNg)
- [网卡与Linux网络结构（中）](https://mp.weixin.qq.com/s/zlbdi6n8lVUARVEtC3lHcA)
- [网卡与Linux网络结构（下）](https://mp.weixin.qq.com/s/SiM6K2uhdjEist6ZL_klyw)
- [网卡与数据接收（上）](https://mp.weixin.qq.com/s/Ne9RFsJWPqzstZTlhIS1dQ)
- [网卡与数据接收（中）](https://mp.weixin.qq.com/s/_pXvYxImkcTomer4kBoiXQ)
- [源码溯源：网卡队列超时机制](https://mp.weixin.qq.com/s/FtgHB2yPb1-3p6KJ653B3w)
- [通俗理解数据中心CPU和GPU之后的第三颗关键芯片“DPU”](https://mp.weixin.qq.com/s/SVscsnpOAtsZ6IBk34AYug)
- [字节校招：TCP 和 UDP 可以同时绑定相同的端口吗？](https://mp.weixin.qq.com/s/4G4il3rZSMmEgvdvGSH_Gw)
- [59页PPT，全面了解"无线通信原理"](https://mp.weixin.qq.com/s/TEJYQJkT4FToeEoxI_9Tmg)
- [【Linux】如何查看网卡驱动](https://blog.csdn.net/imliuqun123/article/details/139596951)
- [Linux网络最难理解的五个核心概念](https://mp.weixin.qq.com/s/15oz0wMR-lGIjDmQcGo_rQ)

## 计算机网络

- [计算机网络常见面试题](https://www.cnblogs.com/wuwuyong/p/12198928.html)
- [计算机网络常见面试题](https://www.cnblogs.com/inception6-lxc/p/9152691.html)

- [字节一面：“为什么网络要分层？每一层的职责、包含哪些协议？”](https://www.toutiao.com/article/7194724931555607100)

- [高性能服务器开发](https://github.com/balloonwj/CppGuide)
  - [在线阅读站点1：https://balloonwj.github.io/cpp-guide-web/](https://balloonwj.github.io/cpp-guide-web/)
  - [在线阅读站点2：http://balloonwj.gitee.io/cpp-guide-web/](http://balloonwj.gitee.io/cpp-guide-web/)
  - [备份站点：http://101.37.25.166/blog/ ](http://101.37.25.166/blog/)

## socket

- [socket编程入门：1天玩转socket通信技术（非常详细）](http://m.biancheng.net/socket/)
- [socket缓冲区以及阻塞模式](http://m.biancheng.net/view/2349.html)
- [<font color=Red>Socket缓冲区</font>](https://blog.csdn.net/summer_fish/article/details/121740570)
- [Ubuntu 设置Socket缓冲区大小](https://zhuanlan.zhihu.com/p/486140420)
- [<font color=Red>Linux fd 系列 — socket fd 是什么？</font>](https://os.51cto.com/article/682138.html)
- [Linux内核 | socket底层的来龙去脉](https://mp.weixin.qq.com/s/6fxS9GDdKOIkKASiz0e07Q)
- [如何学习 Linux 内核网络协议栈](https://mp.weixin.qq.com/s/0eomyTaKWVeJbryIEdo1ug)
- [socket中write和send有什么区别？——拆解大厂面试题(校招)](https://mp.weixin.qq.com/s/Wq0Ns-5oWcMH7QKhmxwtHg)

### Netlink

- [Linux用户空间与内核空间通信(Netlink通信机制)](https://mp.weixin.qq.com/s/CMWxPcJzoN6TlDypaB4kXA)
- [深入了解Linux netlink机制：实现高性能网络通信](https://mp.weixin.qq.com/s/odS7qoVGrtOgSt99o5hw0g)

## select

- [Linux编程之select](https://www.cnblogs.com/skyfsm/p/7079458.html)

## epoll

- [Linux 高性能服务 epoll 的本质，真的不简单（含实例源码）](https://mp.weixin.qq.com/s/rpk0QmNfNiUoUH1fuDUpuA)

- [<font color=Red>如果这篇文章说不清epoll的本质，那就过来掐死我吧！ （1） - 知乎 (zhihu.com)</font>](https://zhuanlan.zhihu.com/p/63179839)
- [如果这篇文章说不清epoll的本质，那就过来掐死我吧！ （2） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/64138532)
- [如果这篇文章说不清epoll的本质，那就过来掐死我吧！ （3） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/64746509)

- [Epoll的本质（内部实现原理）](https://blog.csdn.net/songchuwang1868/article/details/89877739)
- [epoll LT 模式和 ET 模式详解（文末赠书） - 云+社区 - 腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/1636224)
- [Linux下的I/O复用与epoll详解](https://www.cnblogs.com/lojunren/p/3856290.html)

- [epoll源码剖析_wendy_keeping的博客-CSDN博客](https://blog.csdn.net/wendy_keeping/article/details/76577770)

- [盘点Linux Epoll那些致命弱点](https://mp.weixin.qq.com/s/tu7ovS2xO6ju-H5gB8TNCw)

- [大话 Select、Poll、Epoll - 云+社区 - 腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/1005481)

### 惊群效应

- [深入理解linux惊群效应（超详细）](https://mp.weixin.qq.com/s/CTj-HpnmX8d_hDWk5t-oqQ)

## libevent

- [Libevent深入浅出-《Libevent深入浅出》-书栈网·BookStack](https://www.bookstack.cn/read/libevent/450ef2232c710e15.md)
- [Libevent深入浅出· libevent深入浅出- Gitbooks](https://www.bookstack.cn/read/libevent/450ef2232c710e15.md)
- [libevent深入浅出_none123java321的博客-CSDN博客](https://blog.csdn.net/none123java321/article/details/113134499)
- [libevent源码深度剖析](https://www.cnblogs.com/lfsblack/p/5498556.html)

- [详解libevent网络库（一）-框架的搭建](https://blog.csdn.net/Lemon_tea666/article/details/92637297)
- [详解libevent网络库（二）-即时聊天通讯](https://blog.csdn.net/Lemon_tea666/article/details/92797520)

- [Linux网络编程 socketpair的使用](https://blog.csdn.net/y396397735/article/details/50684558)

- [一文讲懂什么是vlan、三层交换机、网关、DNS、子网掩码、MAC地址](https://mp.weixin.qq.com/s/73u2kO43gGp0BCHncQO0ng)
- [46张图带你了解网络传输、WIFI、以太网协议和网络寻址](https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&mid=2247501617&idx=2&sn=460849b920d167dba10f7c4ad1fd927a&chksm=f96bb5c5ce1c3cd30bdfe24e10b07d227d45c1d1e9cb64eeabae977eb62f7203618740a88b5e&scene=178&cur_album_id=1598710257097179137#rd)
- [解析：单播、广播和组播的区别](https://bbs.huaweicloud.com/blogs/147408)

- [「linux」Socket缓存是如何影响TCP性能的？](https://mp.weixin.qq.com/s/2znyxjMUqpH9qjqCqTd69g)
- [Linux 网络性能的 15 个优化建议！](https://mp.weixin.qq.com/s/6uuL-oq5FCIMTER1M9Dnmg)

- [虾皮二面：既然有 HTTP 协议，为什么还要有 RPC?](https://mp.weixin.qq.com/s/cqmZX32TK50e7Ix_Uz_HoA)

- [虾皮二面：既然有 HTTP 协议，为什么还要有 RPC?](https://mp.weixin.qq.com/s/cqmZX32TK50e7Ix_Uz_HoA)

## IO模型

- [聊聊Linux 五种IO模型](https://www.jianshu.com/p/486b0965c296)
- [深入理解Linux I/O系统](https://cloud.tencent.com/developer/article/1901999)
- [linux文件io缓冲](http://www.daileinote.com/computer/linux_sys/10)
- [Linux 实现原理 — I/O 处理流程与优化手段](https://mp.weixin.qq.com/s/0aC4z2yl3n6kQ2PTt-aPNw)
- [【Linux】—— Linux下的文件缓冲区](https://blog.csdn.net/chenxiyuehh/article/details/90577631)
- [[基础]同步消息和异步消息传递的区别？](https://www.cnblogs.com/eason-liu/p/8053558.html)
- [终于明白了，一文彻底理解I/O多路复用](https://mp.weixin.qq.com/s?__biz=Mzg4OTYzODM4Mw==&mid=2247485708&idx=1&sn=d7c8bec26de6ddcaaff49eac0766dc87&source=41#wechat_redirect)
- [这次答应我，一举拿下I/O多路复用！](https://mp.weixin.qq.com/s/uJLw9tCUANNhWlFAIZfDIA)

## reactor

- [<font color=Red>一文图解高性能网络架构：Reactor和Proactor</font>](https://www.toutiao.com/article/7171814310321291810/)
- [<font color=Red>​网络 IO 演变发展过程和模型介绍</font>](https://www.toutiao.com/article/7196173859631219238)
- [3000字|程序员应如何理解Reactor模式？](https://mp.weixin.qq.com/s/kyEYNLtpsLZHK9n3j1pO0w)
- [Reactor模式详解＋源码实现](https://www.jianshu.com/p/188ef8462100)

- [高并发高性能服务器是如何实现的](https://mp.weixin.qq.com/s/Z07Hc9SRfGz6n8XhFHGVyA)
- [从小白到高手，你需要理解同步与异步(内含10张图)](https://mp.weixin.qq.com/s/xARtnqFQmi-Hzw01m__KQA)
- [读取文件时，程序经历了什么？](https://mp.weixin.qq.com/s?__biz=Mzg4OTYzODM4Mw==&mid=2247485706&idx=1&sn=bc5d6e4bf9ee5dccef520e5b2051d943&source=41#wechat_redirect)

- [Mac 地址会重复吗？Mac 地址也会耗尽吗？](https://mp.weixin.qq.com/s/AqTcVaxElxgwVjCPcxAFDA)

- [要理解网络，其实不就是理解这三张表吗](https://www.toutiao.com/article/7204305085835346467)

- [为什么要使用 TCP keepalive？C/C++代码实现TCP keepalive](https://www.toutiao.com/article/7166152475840561704/)

- [一文读懂物联网MQTT协议之基础特性篇](https://www.toutiao.com/article/7191463571258343948/)

- [为什么HTTPS是安全的？](https://mp.weixin.qq.com/s/Qafa3nE_vTzdl1jGTiUaMw)

- [刚插上网线，电脑怎么知道自己的IP是什么？](https://mp.weixin.qq.com/s/siG1XMxQnduBWdY-hvQO8g)

- [一张图了解八种流行的网络协议](https://mp.weixin.qq.com/s/f19jaSwKA0oTE87yAfyb2w)

## phy

- [Linux 实现原理 — 网卡驱动程序初始化流程](https://mp.weixin.qq.com/s/jcolfo4bvKPS-eRdeCkRCg)
- [PHY芯片快速深度理解（持续更新中……）](https://blog.csdn.net/qq_40715266/article/details/124095801)
- [【网络驱动】ifconfig up 后内核网络驱动做了什么？](https://mp.weixin.qq.com/s/VQWEkycARPQ2pCpDxx_Rnw)

## 扫描工具

- [【工具更新】内网大杀器Fscan](https://mp.weixin.qq.com/s/HnerPmV34KWKLADVsEx5gA)

## 内网穿透

- [内网穿透详解](https://www.toutiao.com/article/7317562665730097704/)

## 抓包

- [Linux性能优化-用tcpdump 和 Wireshark 分析网络流量](https://blog.csdn.net/hixiaoxiaoniao/article/details/87596703)
- [一文掌握 Linux 性能分析之网络篇](https://www.cnblogs.com/bakari/p/10515977.html)
- [wireshark过滤http包](https://blog.csdn.net/github_40044758/article/details/111290919)
- [<font color=Red>如何在 Linux 上使用 Wireshark 过滤器</font>](https://cn.linux-console.net/?p=8295)

  ```bash
  http.host=="www.baidu.com"
  ```

  ![http.host=="www.baidu.com"](https://cdn.jsdelivr.net/gh/realwujing/picture-bed/20240117135816.png)

## 收发包

网络数据包的接收过程通常分为**硬中断（Hard IRQ）**和**软中断（Soft IRQ）**两个阶段，这是 Linux 网络栈中的典型处理方式，能有效提高性能和响应速度。让我们一步步解释这个流程：  

---

### 网络数据包的接收流程（发包）

#### 🌟 **1. 硬中断阶段（Hard IRQ）**  
硬中断由**网卡（NIC, Network Interface Card）**直接触发，处理过程如下：  

1. **数据包到达网卡：**  
   - 网卡收到网络数据包后，将数据存入网卡的**接收环形缓冲区（RX Ring Buffer）**。  
   
2. **触发硬中断：**  
   - 网卡向 CPU 发送一个硬件中断信号（IRQ, Interrupt Request），通知系统“有新数据包需要处理了”。  
   
3. **硬中断处理程序（ISR, Interrupt Service Routine）：**  
   - CPU 响应中断，执行网卡驱动程序的硬中断处理逻辑。硬中断处理程序通常做以下工作：  
     - **禁用网卡中断**（避免大量中断拖垮系统）。  
     - **将数据包的描述符加入 NAPI 列表**（NAPI, New API，是 Linux 网络子系统的优化机制）。  
     - **触发软中断（Soft IRQ）或轮询机制**，让后续处理交给软中断来完成。  

硬中断要尽量短小精悍，只完成必要的工作，把大部分包处理逻辑交给软中断来做。  

---

#### ⚙️ **2. 软中断阶段（Soft IRQ/NAPI）**  
软中断是由内核在合适的时机触发的，用来处理大量网络包时的性能瓶颈。流程如下：  

1. **NAPI 轮询机制：**  
   - 在硬中断阶段，网卡驱动程序会将网络接口添加到 NAPI 列表，触发软中断处理逻辑。  
   
2. **处理数据包：**  
   - 软中断（`NET_RX_SOFTIRQ`）开始执行，从网卡的 RX 队列取出数据包：  
     - **协议栈处理**：解析以太网帧、IP 数据包、TCP/UDP 协议等。  
     - **分发到上层**：根据数据包类型，将数据递交给相应的内核模块（如 socket 层、iptables、防火墙等）。  
     - **交给用户态**：最终数据通过 `recv()` 系统调用传递给用户态程序。  

3. **恢复中断：**  
   - 数据包处理完成后，软中断会重新开启网卡中断，使得新的数据包到来时，能够再次触发硬中断。  

---

#### 📌 **为什么要分硬中断和软中断？**  
1. **减少中断风暴**：如果每个数据包都触发硬中断，CPU 会被中断淹没，导致性能下降。  
2. **批量处理**：软中断采用 NAPI 机制，可以在一次软中断处理过程中批量收包，提升效率。  
3. **更好的调度**：软中断可以被内核调度器管控，避免影响其他关键任务的执行。  

如果你需要优化网络性能，还可以研究：  
- **RPS/RFS（Receive Packet Steering/Flow Steering）**：多核场景下分散网络流量，减少单核瓶颈。  
- **XDP（eXpress Data Path）**：在网卡驱动层快速处理或丢弃数据包，减少内核协议栈负担。  

如果想了解具体代码逻辑，可以看看 `net/core/dev.c` 文件中的 `netif_receive_skb()`、`napi_poll()` 等函数。

### **📤 网络数据包的发送流程（发包）**  
网络数据包的发送也涉及**软中断**和**硬中断**，但与收包流程不同，主要由**上层协议栈**驱动发包，最终由**网卡（NIC）**负责数据的实际传输。整个流程如下：

---

#### **1️⃣ 用户态数据准备**
在用户态，应用程序（如 `ping`、`curl`、`iperf` 或自定义 socket 程序）调用 `send()`、`write()` 等系统调用，向 socket 发送数据：
```c
send(sockfd, buffer, len, 0);
```
这时，数据进入 **TCP/UDP 层** 进行处理。

---

#### **2️⃣ 内核协议栈处理**
当数据进入内核后，协议栈会依次处理它：
##### **（1）TCP/UDP 处理**
- **UDP**：直接封装 IP 头，进入下一步（适用于 DNS、VoIP、视频流等）。
- **TCP**：
  - 拆分数据（MSS，最大报文段）。
  - 计算 TCP 校验和。
  - 维护 TCP 发送队列（适用于重传、流控）。
  - 进入 **IP 层**。

##### **（2）IP 层处理**
- 填充源 IP、目的 IP、TTL 等。
- 计算 IP 校验和。
- 进行 **路由查找**（`fib_lookup()`），决定从哪个网卡发出。

##### **（3）以太网层处理**
- 根据 ARP 表查找目标 MAC 地址（如果是第一次发送，可能会先发送 ARP 请求）。
- 组装以太网帧（源 MAC、目的 MAC、协议类型）。
- 数据包进入网卡 **TX 队列**。

---

#### **3️⃣ 软中断处理（Soft IRQ / NET_TX_SOFTIRQ）**
1. **进入 `dev_queue_xmit()`**  
   - 这个函数检查数据包并调用驱动层的 `ndo_start_xmit()`，进入网卡队列。
   - 如果队列满了，可能会触发流控（TSO、GSO、Qdisc 等）。

2. **队列调度（Qdisc, Queueing Discipline）**
   - 如果开启了 `tc` 流控（如 `fq_codel`、`pfifo_fast`），数据可能会被重新排序。
   - 高速网卡可能会使用 **TSO（TCP Segmentation Offload）**，让网卡直接拆包，提高 CPU 效率。

---

#### **4️⃣ 硬中断触发（Hard IRQ）**
数据包最终进入网卡的 **发送环形缓冲区（TX Ring Buffer）**，这时：
1. **网卡触发硬中断**（或 DMA 直接传输）。
2. **网卡驱动调用 `xmit_done()` 释放已发送的 skb**。
3. **网卡将数据发送到物理链路（光纤、电缆、Wi-Fi）**，数据包真正进入网络。

---

#### **⚡ 为什么发包时硬中断较少？**
相较于收包，**发包通常不需要硬中断**，原因如下：
- **TX 采用 DMA 直接传输**，只需要在发送完成后通知 CPU。
- **网卡队列（TX Queue）优化**，减少 CPU 介入，提高吞吐量。
- **GSO/TSO（大包卸载）** 让网卡直接拆分 TCP 包，提高效率。

---

#### **📌 总结**
| 过程 | 触发方式 | 关键函数 |
|------|------|------|
| **用户调用 `send()`** | 用户态 | `sys_sendto()` |
| **协议栈处理**（TCP/UDP/IP/MAC） | 软中断（NET_TX_SOFTIRQ） | `dev_queue_xmit()` |
| **进入网卡队列（TX Queue）** | 软中断 | `ndo_start_xmit()` |
| **网卡 DMA 传输** | 硬件 | DMA |
| **发送完成通知（硬中断）** | 硬中断 | `xmit_done()` |

如果你关心具体的优化点，比如 **XDP、TSO、GSO、RPS/RFS** 等，可以深入研究 `net/core/dev.c`、`drivers/net/` 里的网卡驱动代码。

### 🌟 **收发包中的硬中断与软中断对比**  

| **对比项**         | **硬中断（Hard IRQ）** 🌩️ | **软中断（Soft IRQ）** ⚙️ |
|------------------|--------------------------|--------------------------|
| **触发时机**      | 由硬件事件触发（如网卡收到新数据包或发送完成） | 由内核调度或硬中断触发，批量处理网络事件 |
| **优先级**      | 高，立即打断 CPU 执行当前任务来响应 | 较低，由内核调度器在合适时机运行 |
| **主要作用**      | 快速响应硬件事件，通知系统有新包到达或传输完成 | 批量处理网络数据包，减少中断次数，优化性能 |
| **收包流程**      | 1. 网卡收到数据包，触发硬中断<br>2. 将包放入 RX 队列<br>3. 触发软中断来完成后续处理 | 1. 轮询 RX 队列取包<br>2. 解析协议头（IP、TCP/UDP）<br>3. 将数据交给上层协议或用户态 |
| **发包流程**      | 1. 发送完成后触发硬中断<br>2. 通知内核释放发送缓冲区 | 1. 将待发送数据放入 TX 队列<br>2. 由软中断驱动网卡取包发送 |
| **处理内容**      | - 禁用中断避免风暴<br>- 通知软中断处理数据包 | - 批量收发包处理<br>- 协议栈解析、流控、负载均衡 |
| **执行时长**      | 极短，避免长时间占用 CPU | 相对较长，批量处理多个包 |
| **性能优化**      | - 减少中断频率（NAPI）<br>- 合并多包触发 | - 使用 NAPI 机制<br>- 启用 RPS/RFS、XDP 提升性能 |
| **瓶颈与挑战**    | 过多硬中断会导致“中断风暴”，拖垮系统 | 处理量大时易拖慢系统，需配合硬件卸载优化 |
| **关键机制**      | - NAPI（New API）<br>- IRQ 禁用/使能机制 | - NAPI 轮询<br>- NET_RX_SOFTIRQ、NET_TX_SOFTIRQ |

总结：  
- **硬中断**：负责快速响应硬件事件（如新包到达、发送完成），避免 CPU 长时间被打断。  
- **软中断**：负责批量处理收发包逻辑，减少中断次数，提高系统吞吐量。  
- **NAPI 机制**：结合硬、软中断的优点，通过轮询和批量处理机制，进一步优化高流量场景下的性能。

## 丢包

- [Linux内核常见的网络丢包场景分析](https://mp.weixin.qq.com/s/vdW0L7nEdfrxSJ_9VGviaA)
- [Linux内核网络丢包探秘，这些办法轻松搞定](https://mp.weixin.qq.com/s/eLO9NxH4XfRca-PP5VCtPQ)

在网络收发包过程中，判断一个包是否丢失，通常依赖于协议层面的机制。不同协议有各自的处理方式，下面以常见的 **TCP** 和 **UDP** 为例来解释：

### 🌐 **TCP 层的丢包判断机制：**
TCP 是可靠传输协议，内置了丢包检测机制，包括以下几种方法：

1. **确认机制（ACK）：**
   - TCP 通信是基于序列号（Sequence Number）和确认号（Acknowledgment Number）来跟踪数据包的传输情况。
   - 发送方发送一个数据包后，期望接收方返回一个 ACK 确认包。如果在设定的超时时间（RTO, Retransmission Timeout）内未收到 ACK，发送方会认为该包可能丢失，触发重传机制。

2. **超时重传（Timeout Retransmission）：**
   - 发送方为每个未确认的数据包启动一个定时器（RTO）。如果超时仍未收到 ACK，发送方认为数据包已丢失，重新发送。

3. **快速重传（Fast Retransmit）：**
   - 当接收方收到乱序的包时，会不断发送对最后正确接收的包的 ACK（称为“冗余 ACK”）。如果发送方连续收到 3 个相同的冗余 ACK，就会判断有数据包丢失，触发快速重传。

4. **选择性确认（SACK, Selective Acknowledgment）：**
   - 接收方可以通过 SACK 机制告知发送方哪些包已收到，哪些包未收到，从而让发送方仅重传丢失的部分。

---

### 📩 **UDP 层的丢包判断机制：**
UDP 是无连接、不可靠传输协议，本身不提供丢包检测机制。常见的做法包括：

1. **应用层序列号：**
   - 应用程序自行为每个 UDP 包附加序列号，接收方通过序列号判断是否有丢包。

2. **超时机制：**
   - 发送方在发送包后启动超时计时器，如果在一定时间内未收到预期的响应（如 ACK 或心跳包），认为数据包可能丢失。

3. **心跳机制（Heartbeat）：**
   - 定期发送探测包，检测链路状态。如果多次探测未响应，则认为有丢包或链路中断。

4. **FEC（Forward Error Correction，前向纠错）：**
   - 使用冗余信息或校验码（如 Reed-Solomon 编码）来检测并修复丢包，尤其在流媒体、VoIP 等场景常见。

---

### 📊 **底层机制（链路层/硬件）：**
1. **CRC 校验（循环冗余校验）：**
   - 每个数据包附带 CRC 校验码，接收方对收到的包进行校验，发现错误则丢弃该包，依赖上层协议重传。

2. **网卡统计：**
   - 网卡驱动程序维护收发包计数器（如 `ifconfig`、`ethtool` 工具可以查看），包括丢包统计信息，可用来辅助判断。

## dns

- [扫盲DNS缓存及客户端配置](https://mp.weixin.qq.com/s/r4yvPXu-DTYlmCflEE7o7A)
- [Github Pages 绑定域名遇到的坑](https://blog.csdn.net/i_do_not_know_you/article/details/105594269)

## proxy

macOS Monterey 12.7.5在系统偏好设置-网络-WiFi-代理中修改配置无法保存，clashx中设置为系统代理也无法取消，详情参见下图：

![代理](https://cdn.jsdelivr.net/gh/realwujing/picture-bed/20240603234753.png)

查看内核版本：

  ```bash
  uname -a
  Darwin MacBook-Pro.local 21.6.0 Darwin Kernel Version 21.6.0: Wed Apr 24 06:02:02 PDT 2024; root:xnu-8020.240.18.708.4~1/RELEASE_X86_64 x86_64
  ```

查看系统系统发型版本：

```bash
sw_vers
ProductName:    macOS
ProductVersion: 12.7.5
BuildVersion:   21H1222
```

在Finder中查看/Library/Preferences/SystemConfiguration/preferences.plist文件，发现图标左下角有把锁，打开简介，显示已锁定。

移除文件锁定：取消对 preferences.plist 文件的用户不可更改（uchg）标志，使其可被修改：

  ```bash
  sudo chflags nouchg /Library/Preferences/SystemConfiguration/preferences.plist
  ```

## wifi

- [Linux通过命令行连接wifi的方式](https://www.toutiao.com/article/7407405280704659994)
